# ูุธุงู ุงูุณูู - ููุฎุต ุดุงูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ุงูุณูู ุงูุดุงูู ุฅูู ุชุทุจูู SmartBizTracker ูุน ุฅููุงููุงุช ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุงูุณูู ุงููุงููุฉ ููุนููุงุก.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ง ูููุญุงุณุจูู:
- **ุฅุถุงูุฉ ุณูู ุฌุฏูุฏุฉ**: ุฅุฏุฎุงู ุงุณู ุงูุณููุฉุ ุงุฎุชูุงุฑ ุงูุนูููุ ุชุญุฏูุฏ ุงููุจูุบ ูุงููุตู
- **ุฅุฏุงุฑุฉ ุงูุณูู**: ุงุนุชูุงุฏุ ุฑูุถุ ุฃู ุชุณุฏูุฏ ุงูุณูู
- **ุนุฑุถ ุฅุญุตุงุฆูุงุช**: ุฅุฌูุงูู ุงูุณููุ ุงููุนููุฉุ ุงููุนุชูุฏุฉุ ุงููุฏููุนุฉ
- **ูุงุฌูุฉ ุงุญุชุฑุงููุฉ**: ุชุตููู ุนุตุฑู ูุน ุฃููุงู ูุชูุงุณูุฉ

### ๐ ูุตุงุญุจ ุงูุนูู:
- **ุนุฑุถ ุฌููุน ุงูุณูู**: ูุฑุงูุจุฉ ุดุงููุฉ ูุฌููุน ุงูุณูู ูู ุงููุธุงู
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ**: ุชูุงุฑูุฑ ูุงููุฉ ุฏูููุฉ
- **ุฅุฏุงุฑุฉ ูุชูุฏูุฉ**: ุฅููุงููุฉ ุงูููุงููุฉ ูุงูุฑูุถ

### ๐ฅ ููุนููุงุก:
- **ุนุฑุถ ุงูุณูู ุงูุดุฎุตูุฉ**: ุฑุคูุฉ ุงูุณูู ุงูุฎุงุตุฉ ุจูู ููุท
- **ุชุชุจุน ุงูุญุงูุฉ**: ูุชุงุจุนุฉ ุญุงูุฉ ุงูุณููุฉ (ูุนููุฉุ ูุนุชูุฏุฉุ ูุฑููุถุฉุ ูุฏููุนุฉ)

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ๐ ุงููููุงุช ุงููุถุงูุฉ:

#### 1. ุงูููุงุฐุฌ (Models):
- **`lib/models/advance_model.dart`**: ูููุฐุฌ ุงูุณููุฉ ูุน ุฌููุน ุงูุฎุตุงุฆุต ูุงูุฏูุงู ุงููุณุงุนุฏุฉ

#### 2. ุงูุฎุฏูุงุช (Services):
- **`lib/services/advance_service.dart`**: ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุณูู ูุน ุฌููุน ุงูุนูููุงุช CRUD

#### 3. ุงูุดุงุดุงุช (Screens):
- **`lib/screens/shared/add_advance_screen.dart`**: ุดุงุดุฉ ุฅุถุงูุฉ ุณููุฉ ุฌุฏูุฏุฉ

#### 4. ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- **`ADVANCES_SYSTEM_SETUP.sql`**: ุฅุนุฏุงุฏ ุฌุฏูู ุงูุณูู ูุงูุฏูุงู ูุงูุณูุงุณุงุช

### ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฌุฏูู `advances`:
```sql
- id (UUID): ุงููุนุฑู ุงููุฑูุฏ
- advance_name (TEXT): ุงุณู ุงูุณููุฉ
- client_id (UUID): ูุนุฑู ุงูุนููู
- amount (DECIMAL): ุงููุจูุบ
- description (TEXT): ุงููุตู
- status (TEXT): ุงูุญุงูุฉ (pending, approved, rejected, paid)
- created_at (TIMESTAMP): ุชุงุฑูุฎ ุงูุฅูุดุงุก
- created_by (UUID): ููุดุฆ ุงูุณููุฉ
- approved_at (TIMESTAMP): ุชุงุฑูุฎ ุงูุงุนุชูุงุฏ
- approved_by (UUID): ูุนุชูุฏ ุงูุณููุฉ
- rejected_reason (TEXT): ุณุจุจ ุงูุฑูุถ
- paid_at (TIMESTAMP): ุชุงุฑูุฎ ุงูุชุณุฏูุฏ
```

#### ุงูุฏูุงู ุงููุณุงุนุฏุฉ:
- `get_advances_summary()`: ุฅุญุตุงุฆูุงุช ุงูุณูู
- `approve_advance()`: ุงุนุชูุงุฏ ุณููุฉ
- `reject_advance()`: ุฑูุถ ุณููุฉ
- `pay_advance()`: ุชุณุฏูุฏ ุณููุฉ

#### ุณูุงุณุงุช ุงูุฃูุงู (RLS):
- ุงูุนููุงุก: ุฑุคูุฉ ุณูููู ููุท
- ุงููุญุงุณุจูู/ุงูุฃุฏูู/ุงููุงูููู: ุฑุคูุฉ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุณูู

## ๐จ ุงูุชุตููู ูุงููุงุฌูุฉ

### ๐ฏ ุชุงุจ ุงูุญุณุงุจุงุช ุงููุญุฏุซ:
- **ุชุจููุจุงู ูุฑุนูุงู**:
  1. **ุงูููุฎุต ุงููุงูู**: ุงูุฅูุฑุงุฏุงุชุ ุงููุตุฑููุงุชุ ุงูุฃุฑุจุงุญุ ุงูุฑุตูุฏ
  2. **ุงูุณูู**: ุฅุฏุงุฑุฉ ุดุงููุฉ ููุณูู

### ๐จ ุชุตููู ุงูุณูู:
- **ุฃููุงู ุงูุญุงูุฉ**:
  - ๐ ูุนููุฉ (Orange)
  - ๐ข ูุนุชูุฏุฉ (Green)  
  - ๐ด ูุฑููุถุฉ (Red)
  - ๐ต ูุฏููุนุฉ (Blue)

- **ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ**: ุนุฑุถ ุฃุฑูุงู ุงูุณูู ุจุชุตููู ุฌุฐุงุจ
- **ูุงุฆูุฉ ุชูุงุนููุฉ**: ุนุฑุถ ุงูุณูู ูุน ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช
- **ููุงุฐุฌ ุงุญุชุฑุงููุฉ**: ุดุงุดุฉ ุฅุถุงูุฉ ุณููุฉ ุจุชุตููู ุนุตุฑู

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### 1. ุฅูุดุงุก ุณููุฉ ุฌุฏูุฏุฉ:
```
ุงููุญุงุณุจ โ ุฅุถุงูุฉ ุณููุฉ โ ุงุฎุชูุงุฑ ุนููู โ ุฅุฏุฎุงู ุชูุงุตูู โ ุญูุธ
```

### 2. ูุนุงูุฌุฉ ุงูุณููุฉ:
```
ุณููุฉ ูุนููุฉ โ ูุฑุงุฌุนุฉ โ ุงุนุชูุงุฏ/ุฑูุถ โ ุชุณุฏูุฏ (ุฅุฐุง ูุนุชูุฏุฉ)
```

### 3. ุชุชุจุน ุงูุณููุฉ:
```
ุงูุนููู โ ุนุฑุถ ุณููู โ ูุชุงุจุนุฉ ุงูุญุงูุฉ โ ุงุณุชูุงู ุงูุฅุดุนุงุฑุงุช
```

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### ๐ ุฅุญุตุงุฆูุงุช ุงูุณูู:
- ุฅุฌูุงูู ุนุฏุฏ ุงูุณูู
- ุนุฏุฏ ุงูุณูู ุงููุนููุฉ
- ุนุฏุฏ ุงูุณูู ุงููุนุชูุฏุฉ
- ุนุฏุฏ ุงูุณูู ุงููุฏููุนุฉ
- ุฅุฌูุงูู ุงููุจุงูุบ ููู ุญุงูุฉ

### ๐ ุชูุงุฑูุฑ ููุตูุฉ:
- ูุงุฆูุฉ ุงูุณูู ูุน ุชูุงุตูู ุงูุนููุงุก
- ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุงุนุชูุงุฏ ูุงูุชุณุฏูุฏ
- ุฃุณุจุงุจ ุงูุฑูุถ (ุฅู ูุฌุฏุช)

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ๐ก๏ธ Row Level Security (RLS):
- **ุงูุนููุงุก**: `SELECT` ุนูู ุณูููู ููุท
- **ุงููุญุงุณุจูู**: `SELECT`, `INSERT`, `UPDATE` ุนูู ุฌููุน ุงูุณูู
- **ุงูุฃุฏูู/ุงููุงูููู**: ุตูุงุญูุงุช ูุงููุฉ
- **ุญูุงูุฉ ุงูุจูุงูุงุช**: ุชุดููุฑ ูุญูุงูุฉ ุฌููุน ุงููุนุงููุงุช

### ๐ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- ูุญุต ุฏูุฑ ุงููุณุชุฎุฏู ูุจู ูู ุนูููุฉ
- ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ูููุฑุงุฌุนุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```sql
-- ุชุดุบูู ูู Supabase SQL Editor
\i ADVANCES_SYSTEM_SETUP.sql
```

### 2. ุชุดุบูู ุงูุชุทุจูู:
```bash
cd flutter_app/smartbiztracker_new
flutter clean && flutter pub get && flutter run
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู:
1. **ุชุณุฌูู ุงูุฏุฎูู ููุญุงุณุจ**
2. **ุงูุงูุชูุงู ุฅูู ุชุงุจ "ุงูุญุณุงุจุงุช"**
3. **ุงุฎุชูุงุฑ ุชุงุจ "ุงูุณูู"**
4. **ุฅุถุงูุฉ ุณููุฉ ุฌุฏูุฏุฉ**
5. **ุฅุฏุงุฑุฉ ุงูุณูู ุงูููุฌูุฏุฉ**

## ๐ฏ ุงูููุงุฆุฏ ุงููุญููุฉ

### ๐ผ ููุฃุนูุงู:
- **ุชูุธูู ูุงูู**: ุฅุฏุงุฑุฉ ุงุญุชุฑุงููุฉ ููุณูู
- **ุดูุงููุฉ**: ุชุชุจุน ุฏููู ูุฌููุน ุงููุนุงููุงุช
- **ููุงุกุฉ**: ุชุณุฑูุน ุนูููุงุช ุงูููุงููุฉ ูุงูุชุณุฏูุฏ
- **ุชูุงุฑูุฑ**: ุฅุญุตุงุฆูุงุช ููุตูุฉ ูุงุชุฎุงุฐ ุงููุฑุงุฑุงุช

### ๐จโ๐ผ ูููุณุชุฎุฏููู:
- **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ุจุฏูููุฉ ูุจุณูุทุฉ
- **ูุถูุญ**: ุนุฑุถ ูุงุถุญ ูุญุงูุฉ ูู ุณููุฉ
- **ุณุฑุนุฉ**: ูุนุงูุฌุฉ ุณุฑูุนุฉ ููุทูุจุงุช
- **ุฃูุงู**: ุญูุงูุฉ ูุงููุฉ ููุจูุงูุงุช ุงููุงููุฉ

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ๐ฑ ูููุฒุงุช ููุชุฑุญุฉ:
- **ุฅุดุนุงุฑุงุช ููุฑูุฉ**: ุชูุจููุงุช ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุณููุฉ
- **ุชูุงุฑูุฑ ูุชูุฏูุฉ**: ุฑุณูู ุจูุงููุฉ ูุชุญูููุงุช
- **ููุงููุงุช ูุชุนุฏุฏุฉ**: ูุธุงู ููุงููุงุช ูุชุฏุฑุฌ
- **ุฑุจุท ุงููุญุงูุธ**: ุฎุตู ุชููุงุฆู ูู ูุญุงูุธ ุงูุนููุงุก
- **ุฌุฏููุฉ ุงูุณุฏุงุฏ**: ุฅููุงููุฉ ุชูุณูุท ุงูุณูู

### ๐ง ุชุญุณููุงุช ุชูููุฉ:
- **ุชุญุณูู ุงูุฃุฏุงุก**: ุชุญููู ูุณูู ููุจูุงูุงุช
- **ุฏุนู ุฃูููุงูู**: ุนูู ูุญุฏูุฏ ุจุฏูู ุฅูุชุฑูุช
- **ูุณุฎ ุงุญุชูุงุทูุฉ**: ุญูุธ ุชููุงุฆู ููุจูุงูุงุช
- **ุชูุงูู API**: ุฑุจุท ูุน ุฃูุธูุฉ ูุญุงุณุจูุฉ ุฎุงุฑุฌูุฉ

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุฅูุดุงุก ูุธุงู ุณูู ุดุงูู ููุชูุงูู ูููุฑ:

โ **ุฅุฏุงุฑุฉ ุงุญุชุฑุงููุฉ ููุณูู ุงููุงููุฉ**
โ **ูุงุฌูุฉ ูุณุชุฎุฏู ุนุตุฑูุฉ ูุฌุฐุงุจุฉ**
โ **ุฃูุงู ุนุงูู ูุญูุงูุฉ ููุจูุงูุงุช**
โ **ุฅุญุตุงุฆูุงุช ูุชูุงุฑูุฑ ููุตูุฉ**
โ **ุณูููุฉ ูู ุงูุงุณุชุฎุฏุงู ูุงูุฅุฏุงุฑุฉ**
โ **ุชูุงูู ูุซุงูู ูุน ุจุงูู ุงููุธุงู**

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ููููู ุชูุณูุนู ูุณุชูุจูุงู ุญุณุจ ุงุญุชูุงุฌุงุช ุงูุนูู! ๐
